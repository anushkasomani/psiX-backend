"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.KeccakHasher = void 0;
const mmr_core_1 = require("@herodotus_dev/mmr-core");
const solidity_1 = require("@ethersproject/solidity");
const ethers_1 = require("ethers");
class KeccakHasher extends mmr_core_1.IHasher {
    numberStringToBytes32(numberAsString) {
        const numberAsBigNumber = ethers_1.BigNumber.from(numberAsString);
        const hexString = ethers_1.utils.hexZeroPad(numberAsBigNumber.toHexString(), 32);
        return hexString;
    }
    hash(data) {
        if (data.length === 0)
            return ethers_1.utils.keccak256([]);
        if (data.length === 1) {
            return ethers_1.utils.keccak256(data[0]);
        }
        data = data.map((e) => this.numberStringToBytes32(e));
        return (0, solidity_1.keccak256)(data.map((_) => "bytes32"), data);
    }
}
exports.KeccakHasher = KeccakHasher;
//# sourceMappingURL=keccak-hasher.js.map